[
  {
    "id": "TC001",
    "title": "Join Cell with Valid Invite Code",
    "description": "Verify that a user can successfully join a cell using a valid invite code. The invite code should be accepted, the user added to the cell, and a success response returned.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the cell join page."
      },
      {
        "type": "action",
        "description": "Input a valid invite code in uppercase."
      },
      {
        "type": "action",
        "description": "Submit the join request."
      },
      {
        "type": "assertion",
        "description": "Check that the API returns a 200 success response."
      },
      {
        "type": "assertion",
        "description": "Verify that the user is added to the cell."
      },
      {
        "type": "assertion",
        "description": "Confirm that a success message is displayed to the user."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Join Cell with Valid Invite Code in Different Case",
    "description": "Verify that invite codes are case insensitive by submitting valid codes in lowercase or mixed case and expecting them to be accepted.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the cell join page."
      },
      {
        "type": "action",
        "description": "Input a valid invite code in lowercase or mixed case."
      },
      {
        "type": "action",
        "description": "Submit the join request."
      },
      {
        "type": "assertion",
        "description": "Check that the invite code is normalized to uppercase by the system."
      },
      {
        "type": "assertion",
        "description": "Verify that the API returns a 200 success response."
      },
      {
        "type": "assertion",
        "description": "Confirm the user is added to the cell successfully."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Join Cell with Empty or Whitespace Invite Code",
    "description": "Verify that submitting an empty or whitespace-only invite code returns the appropriate error message.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the cell join page."
      },
      {
        "type": "action",
        "description": "Input an empty string as invite code."
      },
      {
        "type": "action",
        "description": "Submit the join request."
      },
      {
        "type": "assertion",
        "description": "Check that the API returns an error code 400 with message indicating invalid invite code."
      },
      {
        "type": "action",
        "description": "Repeat test with invite code containing only whitespace characters."
      },
      {
        "type": "assertion",
        "description": "Confirm error handling is consistent."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Join Cell with Duplicate Invite Code",
    "description": "Verify that submitting an invite code that has already been used by the user returns an appropriate duplicate error response.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the cell join page."
      },
      {
        "type": "action",
        "description": "Input a valid invite code previously used by the user."
      },
      {
        "type": "action",
        "description": "Submit the join request."
      },
      {
        "type": "assertion",
        "description": "Check that the API returns an error code 400 with duplicate code message."
      },
      {
        "type": "assertion",
        "description": "Confirm the user is not added again to the same cell."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Join Cell with Invalid Invite Code",
    "description": "Verify that submitting an invite code that does not exist or is invalid returns the appropriate error message.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the cell join page."
      },
      {
        "type": "action",
        "description": "Input an invalid or random invite code."
      },
      {
        "type": "action",
        "description": "Submit the join request."
      },
      {
        "type": "assertion",
        "description": "Check that the API returns error code 400 indicating invalid invite code."
      },
      {
        "type": "assertion",
        "description": "Verify no changes are made to user's cell memberships."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Toggle Bible Translation from KRV to EASY",
    "description": "Verify that toggling the Bible translation from KRV to EASY updates the verses, underlines, and UI text appropriately.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Ensure initial translation is set to KRV."
      },
      {
        "type": "action",
        "description": "Trigger the translation toggle API to switch to EASY."
      },
      {
        "type": "assertion",
        "description": "Confirm API returns 200 success."
      },
      {
        "type": "assertion",
        "description": "Verify the displayed verses update to the EASY translation texts."
      },
      {
        "type": "assertion",
        "description": "Check that verse underline states update according to the EASY translation verse references."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Toggle Bible Translation from EASY to KRV",
    "description": "Verify that toggling the Bible translation from EASY to KRV updates the verses, underlines, and UI text accordingly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Set initial translation to EASY."
      },
      {
        "type": "action",
        "description": "Trigger the translation toggle API to switch to KRV."
      },
      {
        "type": "assertion",
        "description": "Confirm API returns 200 success."
      },
      {
        "type": "assertion",
        "description": "Verify verses update to KRV translation texts."
      },
      {
        "type": "assertion",
        "description": "Check that underline states update corresponding to KRV verses."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Toggle Verse Underline by Single User",
    "description": "Verify a user can add and remove underline on a verse successfully and the system reflects the toggle state without duplicates.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Select a verse in the cell."
      },
      {
        "type": "action",
        "description": "Trigger the underline toggle API with that verse details and userId."
      },
      {
        "type": "assertion",
        "description": "Confirm the API returns 200 success."
      },
      {
        "type": "assertion",
        "description": "Verify the verse is visually underlined for the user."
      },
      {
        "type": "action",
        "description": "Trigger the API again on the same verse by the same user."
      },
      {
        "type": "assertion",
        "description": "Confirm the underline is removed and API returns success."
      },
      {
        "type": "assertion",
        "description": "Ensure no duplicate underline entries for repeated toggles."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Multi-User Underline Toggle Distinction",
    "description": "Verify that verse underlines from multiple users are tracked separately and their toggles do not interfere with each other.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "User A toggles underline on a verse."
      },
      {
        "type": "assertion",
        "description": "Confirm verse is underlined for User A."
      },
      {
        "type": "action",
        "description": "User B toggles underline on the same verse."
      },
      {
        "type": "assertion",
        "description": "Confirm verse is underlined also for User B separately."
      },
      {
        "type": "action",
        "description": "User A removes underline on the verse."
      },
      {
        "type": "assertion",
        "description": "Confirm verse remains underlined for User B but not for User A."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Prevent Duplicate Underline Entries on Rapid Clicks",
    "description": "Verify that multiple rapid toggles by the same user on the same verse do not create duplicate underline records and the system remains stable.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "User rapidly clicks on underline toggle for the same verse multiple times."
      },
      {
        "type": "assertion",
        "description": "Confirm only one underline entry exists or the underline is toggled correctly without duplicates."
      },
      {
        "type": "assertion",
        "description": "Verify system does not crash or misbehave due to rapid triggers."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "State Persistence in Local Storage Across Reloads",
    "description": "Verify that user state including user info, cells joined, underlines, and preferences persist in local storage and are restored correctly after app reload.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Join a cell, toggle translation, toggle underline and set theme preferences."
      },
      {
        "type": "action",
        "description": "Reload the application or browser page."
      },
      {
        "type": "assertion",
        "description": "Check that local storage contains correct stored state reflecting the user activity."
      },
      {
        "type": "assertion",
        "description": "Verify app restores the user state correctly showing joined cells, selected translation, underlines, and theme."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Theme Toggle Cycling Through Light, Dark, System Modes",
    "description": "Verify that the theme toggle cycles through light, dark, and system modes, applying UI updates and persisting preferences.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Check initial theme state."
      },
      {
        "type": "action",
        "description": "Trigger theme toggle to next mode."
      },
      {
        "type": "assertion",
        "description": "Verify the theme changes to light/dark/system accordingly."
      },
      {
        "type": "assertion",
        "description": "Check that the 'dark' class is added or removed from the document root appropriately."
      },
      {
        "type": "assertion",
        "description": "Verify system preference mode correctly detects and applies OS theme."
      },
      {
        "type": "action",
        "description": "Repeat toggling repeatedly to ensure proper cycling."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "SSR Hydration Prevents UI Flash on Theme Change",
    "description": "Verify that server-side rendering hydration prevents flash of incorrect theme during initial page load and theme changes.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Load the app in a fresh session."
      },
      {
        "type": "assertion",
        "description": "Confirm no flash of incorrect theme occurs on page load (no flash of light theme if user set dark)."
      },
      {
        "type": "action",
        "description": "Change theme preference."
      },
      {
        "type": "assertion",
        "description": "Observe UI smoothly updates without flash or flicker."
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Load Today's Reading Plan with Loading Indicator",
    "description": "Verify that the Today Plan API loads the day's reading passages asynchronously and the app shows a loading indicator during the 500ms delay.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the today's reading plan page."
      },
      {
        "type": "assertion",
        "description": "Check that a loading UI or spinner is displayed during data fetch."
      },
      {
        "type": "assertion",
        "description": "Verify data is fetched asynchronously with approximately 500ms delay."
      },
      {
        "type": "assertion",
        "description": "Confirm that the displayed passages and verses correspond to the current translation and cell."
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Validation of Large Data Storage Overflow Handling",
    "description": "Verify that when local storage exceeds capacity or large data is attempted to be saved, the app handles the overflow gracefully without crashing.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Simulate local storage nearing or exceeding quota by storing large amounts of data."
      },
      {
        "type": "action",
        "description": "Perform actions triggering state persistence (e.g., toggling translation or underlining verses)."
      },
      {
        "type": "assertion",
        "description": "Confirm the app handles storage overflow errors gracefully (e.g., showing an error message or fallback)."
      },
      {
        "type": "assertion",
        "description": "Verify the app remains responsive and does not crash."
      }
    ]
  }
]
